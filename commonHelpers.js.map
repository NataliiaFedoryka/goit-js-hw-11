{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderImages(images) {\n  const refs = {\n    imageList: document.querySelector('.images-list'),\n  }\n\n  const markup = images.map((image) => {\n    return `<li class=\"images-list-item\">\n      <a class=\"img-link\" href=\"${image.largeImageURL}\">\n        <img class=\"img\" src=\"${image.webformatURL}\" alt=\"${image.tags}\" />\n      </a>\n      <ul class=\"img-dscr\">\n        <li class=\"img-data\">\n          <p class=\"img-data-title\">Likes</p>\n          <p class=\"img-data-numbers\">${image.likes}</p>\n        </li>\n        <li class=\"img-data\">\n          <p class=\"img-data-title\">Views</p>\n          <p class=\"img-data-numbers\">${image.views}</p>\n        </li>\n        <li class=\"img-data\">\n          <p class=\"img-data-title\">Comments</p>\n          <p class=\"img-data-numbers\">${image.comments}</p>\n        </li>\n        <li class=\"img-data\">\n          <p class=\"img-data-title\">Downloads</p>\n          <p class=\"img-data-numbers\">${image.downloads}</p>\n        </li>\n      </ul>\n    </li>`;\n  }).join('');\n\n  refs.imageList.innerHTML = markup;\n}\n\nexport function clearGallery() {\n  const refs = {\n    imageList: document.querySelector('.images-list'),\n  }\n  refs.imageList.innerHTML = '';\n}","const API_KEY = `44528758-32c26e02cbc7bd56fd7d9b89c`;\nconst BASE_URL = `https://pixabay.com/api/`;\n\nexport async function fetchImages(query, page = 1) {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    page: page,\n    per_page: 12\n  });\n\n  const url = `${BASE_URL}?${params.toString()}`;\n\n  try {\n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error('Network response was not ok');\n    }\n    return response.json();\n  } catch (error) {\n    throw new Error('Fetch request failed');\n  }\n}\n","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { renderImages, clearGallery } from \"./js/render-functions.js\";\nimport { fetchImages } from \"./js/pixabay-api.js\";\n\n\n\nconst refs = {\n    imageSearchForm: document.querySelector('.search-form'),\n    imageSearchInput: document.querySelector('.search-input'),\n    submitButton: document.querySelector('.search-btn'),\n    imageList: document.querySelector('.images-list'),\n    loader: document.getElementById('loader'),\n}\n\nrefs.loader.style.display = 'none';\n\nlet lightbox;\nlet request;\n\nrefs.imageSearchForm.addEventListener('submit', async (e) => {\n    e.preventDefault();\n    request = refs.imageSearchInput.value.trim();\n\n    if (request === '') {\n        refs.imageList.innerHTML = '';\n        return iziToast.info({\n            message: 'You need to enter a search request!',\n            position: 'topRight',\n            transitionIn: 'bounceInDown',\n            transitionOut: 'fadeOutDown',\n        });\n    }\n\n    refs.loader.style.display = 'block';\n    clearGallery();\n\n    try {\n        const images = await fetchImages(request);\n        if (images.hits.length === 0) {\n            refs.imageList.innerHTML = '';\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                transitionIn: 'bounceInDown',\n                transitionOut: 'fadeOutDown',\n            });\n        } else {\n            renderImages(images.hits);\n\n            if (lightbox) {\n                lightbox.refresh();\n            } else {\n                lightbox = new SimpleLightbox('.images-list-item a', {\n                    captions: true,\n                    captionSelector: 'img',\n                    captionType: 'attr',\n                    captionsData: 'alt',\n                    captionPosition: 'bottom',\n                    captionDelay: 250,\n                    animationSpeed: 300,\n                    widthRatio: 1,\n                    heightRatio: 0.95,\n                    disableRightClick: true,\n                });\n            }\n        }\n    } catch (err) {\n        iziToast.error({\n            message: 'Something went wrong. Please try again later!',\n            position: 'topRight',\n            transitionIn: 'bounceInDown',\n            transitionOut: 'fadeOutDown',\n        });\n    } finally {\n        refs.loader.style.display = 'none';\n    }\n\n    e.target.reset();\n});"],"names":["renderImages","images","refs","markup","image","clearGallery","API_KEY","BASE_URL","fetchImages","query","page","params","url","response","lightbox","request","e","iziToast","SimpleLightbox"],"mappings":"6vBAAO,SAASA,EAAaC,EAAQ,CACnC,MAAMC,EAAO,CACX,UAAW,SAAS,cAAc,cAAc,CACjD,EAEKC,EAASF,EAAO,IAAKG,GAClB;AAAA,kCACuBA,EAAM,aAAa;AAAA,gCACrBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,wCAK9BA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,wCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,wCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA,UAIpD,EAAE,KAAK,EAAE,EAEVF,EAAK,UAAU,UAAYC,CAC7B,CAEO,SAASE,GAAe,CAC7B,MAAMH,EAAO,CACX,UAAW,SAAS,cAAc,cAAc,CACjD,EACDA,EAAK,UAAU,UAAY,EAC7B,CCvCA,MAAMI,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAYC,EAAOC,EAAO,EAAG,CACjD,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKL,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAU,EACd,CAAG,EAEKE,EAAM,GAAGL,CAAQ,IAAII,EAAO,SAAU,CAAA,GAE5C,GAAI,CACF,MAAME,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACjB,MAAe,CACd,MAAM,IAAI,MAAM,sBAAsB,CACvC,CACH,CCdA,MAAMX,EAAO,CACT,gBAAiB,SAAS,cAAc,cAAc,EACtD,iBAAkB,SAAS,cAAc,eAAe,EACxD,aAAc,SAAS,cAAc,aAAa,EAClD,UAAW,SAAS,cAAc,cAAc,EAChD,OAAQ,SAAS,eAAe,QAAQ,CAC5C,EAEAA,EAAK,OAAO,MAAM,QAAU,OAE5B,IAAIY,EACAC,EAEJb,EAAK,gBAAgB,iBAAiB,SAAU,MAAOc,GAAM,CAIzD,GAHAA,EAAE,eAAc,EAChBD,EAAUb,EAAK,iBAAiB,MAAM,KAAI,EAEtCa,IAAY,GACZ,OAAAb,EAAK,UAAU,UAAY,GACpBe,EAAS,KAAK,CACjB,QAAS,sCACT,SAAU,WACV,aAAc,eACd,cAAe,aAC3B,CAAS,EAGLf,EAAK,OAAO,MAAM,QAAU,QAC5BG,IAEA,GAAI,CACA,MAAMJ,EAAS,MAAMO,EAAYO,CAAO,EACpCd,EAAO,KAAK,SAAW,GACvBC,EAAK,UAAU,UAAY,GAC3Be,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,aAAc,eACd,cAAe,aAC/B,CAAa,IAEDjB,EAAaC,EAAO,IAAI,EAEpBa,EACAA,EAAS,QAAO,EAEhBA,EAAW,IAAII,EAAe,sBAAuB,CACjD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EACvC,CAAiB,EAGZ,MAAa,CACVD,EAAS,MAAM,CACX,QAAS,gDACT,SAAU,WACV,aAAc,eACd,cAAe,aAC3B,CAAS,CACT,QAAc,CACNf,EAAK,OAAO,MAAM,QAAU,MAC/B,CAEDc,EAAE,OAAO,OACb,CAAC"}